<md-toolbar class="md-scroll-shrink">
    <div class="md-toolbar-tools">
        <md-button ng-if="vm.lang == 'en'" ng-click="vm.languageNl()">NL</md-button>
        <md-button ng-if="vm.lang == 'nl'" ng-click="vm.languageEn()">EN</md-button>
        <span flex></span>
        <md-button ng-click="vm.save()">Save</md-button>
        <md-button ng-click="vm.publish()">Publish</md-button>
    </div>

</md-toolbar>

<div layout="row">
    <md-content flex>
    <div layout="column" layout-padding layout-align="start center">
        <form name="userForm">
            <h1>{{ 'SUBMISSION_CAPTION' | translate }}</h1>
            <p>
                TODO: toevoegen van beknopte "CFP tekst", cfr uitgestuurde tekst.
            </p>
            <h2>{{ 'ACTIVITY_TITLE' | translate }}</h2>


            <section id="type_section" layout="column">
                <p>
                    Activiteiten op Fri3d Camp kunnen zeer uiteen lopend van aard zijn.
                    We delen ze in in drie grote categorieÃ«n:
                </p>
                <div layout="row"  layout-padding>
                    <div class="fc-toggle" ng-click="vm.submission.type = 'PRESENTATION'" ng-class="{'selected': vm.submission.type == 'PRESENTATION'}" flex>
                        <h4 class="md-title">{{ 'TYPE_PRESENTATION' | translate }}</h4>
                        <p>{{ 'TYPE_PRESENTATION_DESC' | translate }}</p>
                    </div>
                    <div class="fc-toggle" ng-click="vm.submission.type = 'WORKSHOP'" ng-class="{'selected': vm.submission.type == 'WORKSHOP'}" flex>
                        <h4 class="md-title">{{ 'TYPE_WORKSHOP' | translate }}</h4>
                        <p>{{ 'TYPE_WORKSHOP_DESC' | translate }}</p>
                    </div>
                    <div class="fc-toggle" ng-click="vm.submission.type = 'OTHER'" ng-class="{'selected': vm.submission.type == 'OTHER'}" flex>
                        <h4 class="md-title">{{ 'TYPE_OTHER' | translate }}</h4>
                        <p>{{ 'TYPE_OTHER_DESC' | translate }}</p>
                    </div>
                </div>
            </section>

            <section id="title_section">
                <p>Hoe moeten we jouw activiteit etaleren?</p>
                <div layout="row" layout-padding>
                    <md-input-container flex="66">
                        <label>{{ 'TITLE' | translate }}</label>
                        <input ng-model="vm.submission.title">
                    </md-input-container>
                </div>
            </section>

            <section id="summary_section">
                <p>Kan je een korte omschrijving geven van de activiteit?</p>
                <div layout="row" layout-padding>
                    <md-input-container flex>
                        <label>{{ 'SUMMARY' | translate }}</label>
                        <textarea ng-model="vm.submission.summary" md-maxlength="150" rows="2"></textarea>
                    </md-input-container>
                </div>
            </section>

            <section id="description_section">
                <p>Kan je een omschrijving geven over wat je precies wil doen?</p>
                <div layout="row" layout-padding>
                    <md-input-container flex>
                        <label>{{ 'DESCRIPTION' | translate }}</label>
                        <textarea ng-model="vm.submission.description" rows="5"></textarea>
                    </md-input-container>
                </div>
            </section>

            <section id="speaker_section">
                <p>Vertel ons wat meer over jezelf.</p>
                <div layout="column" layout-padding>
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>{{ 'NAME' | translate }}</label>
                        <input ng-model="vm.submission.speaker_name">
                    </md-input-container>

                    <md-input-container class="md-block" flex-gt-xs>
                        <label>{{ 'EMAIL' | translate }}</label>
                        <input ng-model="vm.submission.speaker_email">
                    </md-input-container>

                    <md-input-container class="md-block" flex-gt-xs>
                        <label>{{ 'ASSOCIATED' | translate }}</label>
                        <input ng-model="vm.submission.speaker_associated_hackerspaces">
                    </md-input-container>

                    <md-input-container class="md-block">
                        <label>Bio</label>
                        <textarea ng-model="vm.submission.speaker_bio" md-maxlength="150" rows="3"></textarea>
                    </md-input-container>
                </div>
            </section>

            <section id="availability_section">
                <p>
                    Wanneer ben je beschikbaar om deze activiteit te organizeren?
                </p>
                <div layout="column" layout-padding>
                    <div layout="row" layout-align="start center">
                        <span flex class="md-body-1">{{ 'DAY_ONE' | translate }}</span>
                        <md-input-container class="md-block" flex-gt-xs>
                            <label>{{ 'FROM' | translate }}</label>
                            <md-select ng-model="vm.submission.day_1_from">
                                <md-option ng-repeat="tb in vm.timeBuckets" ng-value="tb">
                                    {{ tb }}
                                </md-option>
                            </md-select>
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-xs>
                            <label>{{ 'UNTIL' | translate }}</label>
                            <md-select ng-model="vm.submission.day_1_until">
                                <md-option ng-repeat="tb in vm.timeBuckets" ng-value="tb">
                                    {{ tb }}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <div layout="row"  layout-align="start center">
                        <span flex class="md-body-1">{{ 'DAY_TWO' | translate }}</span>
                        <md-input-container class="md-block" flex-gt-xs>
                            <label>{{ 'FROM' | translate }}</label>
                            <md-select ng-model="vm.submission.day_2_from">
                                <md-option ng-repeat="tb in vm.timeBuckets" ng-value="tb">
                                    {{ tb }}
                                </md-option>
                            </md-select>
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-xs>
                            <label>{{ 'UNTIL' | translate }}</label>
                            <md-select ng-model="vm.submission.day_2_until">
                                <md-option ng-repeat="tb in vm.timeBuckets" ng-value="tb">
                                    {{ tb }}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <div layout="row" layout-align="start center">
                        <span flex class="md-body-1">{{ 'DAY_THREE' | translate }}</span>
                        <md-input-container class="md-block" flex-gt-xs>
                            <label>{{ 'FROM' | translate }}</label>
                            <md-select ng-model="vm.submission.day_3_from">
                                <md-option ng-repeat="tb in vm.timeBuckets" ng-value="tb">
                                    {{ tb }}
                                </md-option>
                            </md-select>
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-xs>
                            <label>{{ 'UNTIL' | translate }}</label>
                            <md-select ng-model="vm.submission.day_3_until">
                                <md-option ng-repeat="tb in vm.timeBuckets" ng-value="tb">
                                    {{ tb }}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                </div>
            </section>

            <section id="format_section">
                <p>Welke format wil je hanteren?</p>
                <div layout="row" layout-padding>
                    <md-input-container flex>
                        <label>{{ 'ACTIVITY_FORMAT' | translate }}</label>
                        <md-select ng-model="vm.submission.format">
                            <md-option ng-repeat="type in vm.formatTypes" ng-value="type">
                                {{ type | translate }}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
            </section>

            <section id="target_audience_section">
                <p>Wie is je doelpubliek?</p>
                <div layout="row" layout-padding>
                    <md-input-container flex>
                        <label>{{ 'INTENDED_AUDIENCE' | translate }}</label>
                        <md-select ng-model="vm.submission.audience_level" flex>
                            <md-option ng-repeat="level in vm.audienceLevels" ng-value="level">
                                {{ level | translate }}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
            </section>

            <section id="repetition_section">
                <p>
                    Zou je deze activiteit meerdere keren willen uitvoeren? Moest dit het geval zijn, wat is dan het maximum aantal keren dat je dit wil doen?
                </p>
                <div layout="row" layout-padding>
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.maximum_repeats = 0" ng-class="{'selected': vm.submission.maximum_repeats === 0}" flex="33">
                        {{ 'NO' | translate }}
                    </div>
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.maximum_repeats = 1" ng-class="{'selected': vm.submission.maximum_repeats && vm.submission.maximum_repeats !== 0}" flex="33">
                        {{ 'YES' | translate }}
                    </div>

                    <md-input-container class="md-block" ng-if="vm.submission.maximum_repeats && vm.submission.maximum_repeats !== 0" flex="33">
                        <label>{{ 'AMOUNT' | translate }}</label>
                        <input type="number" ng-model="vm.submission.maximum_repeats">
                    </md-input-container>
                </div>
            </section>

            <section id="location_section">
                <p>
                    Waar zou je de activiteit graag willen laten doorgaan? Wat heb je hiervoor precies nodig?
                </p>
                <div layout="column" layout-padding>
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>{{ 'LOCATION' | translate }}</label>
                        <md-select ng-model="vm.submission.location_type">
                            <md-option ng-repeat="type in vm.locationTypes" ng-value="type">
                                {{ type | translate }}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
                <p ng-if="vm.submission.location_type == 'ORGA_WORKSHOP' || vm.submission.location_type == 'ORGA_OUTDOOR' ">
                    Wat heb je hiervoor precies nodig?
                </p>
                <div ng-if="vm.submission.location_type == 'ORGA_WORKSHOP'" layout="column">
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_power" aria-label="Need Power?">Need power?</md-switch>
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_beamer" aria-label="Need Beamer?">Need beamer?</md-switch>
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_tables" aria-label="Need Tables?">Need tables?</md-switch>
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_soldering_tools" aria-label="Need Soldering Tools?">Need soldering tools?</md-switch>
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_glue_guns" aria-label="Need Glue Guns?">Need glue guns?</md-switch>
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>Special items?</label>
                        <input ng-model="vm.submission.location_req_special">
                    </md-input-container>
                </div>
                <div ng-if="vm.submission.location_type == 'ORGA_OUTDOOR'" layout="column">
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_power" aria-label="Need Power?">Need power?</md-switch>
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_beamer" aria-label="Need Beamer?">Need beamer?</md-switch>
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_tables" aria-label="Need Tables?">Need tables?</md-switch>
                    <md-switch class="md-primary" ng-model="vm.submission.location_req_glue_guns" aria-label="Need Glue Guns?">Need glue guns?</md-switch>
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>Special items?</label>
                        <input ng-model="vm.submission.location_req_special">
                    </md-input-container>
                </div>
            </section>

            <section id="audience_requirements_section">
                <p>
                    Zijn er specifieke verwachtingen die je hebt van je publiek?
                </p>
                <div layout="row" layout-padding>
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>Requirements</label>
                        <input ng-model="vm.submission.audience_requirements">
                    </md-input-container>
                </div>
            </section>

            <section id="audience_activity_capacity_limit">
                <p>
                    Staat er een limiet op het aantal personen dat aan deze activiteit kan deelnemen? Hoeveel zouden dat er dan zijn?
                </p>
                <div layout="row" layout-padding>
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.activity_participant_limit = 0" ng-class="{'selected': vm.submission.activity_participant_limit === 0}" flex="33">
                        {{ 'NO_LIMIT' | translate }}
                    </div>
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.activity_participant_limit = 1" ng-class="{'selected': vm.submission.activity_participant_limit && vm.submission.activity_participant_limit !== 0}" flex="33">
                        {{ 'HAS_LIMIT' | translate }}
                    </div>

                    <md-input-container class="md-block" ng-if="vm.submission.activity_participant_limit && vm.submission.activity_participant_limit !== 0" flex="33">
                        <label>{{ 'AMOUNT' | translate }}</label>
                        <input type="number" ng-model="vm.submission.activity_participant_limit">
                    </md-input-container>
                </div>
            </section>

            <section id="sessions_section">
                <p>
                    Het is mogelijk om je activiteit op te delen in meerdere sessies. Indien je dit zou willen doen, kan je dan aangeven hoeveel sessies dit zouden zijn?
                </p>
                <div layout="row" layout-padding>
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.multiple_sessions = 0" ng-class="{'selected': vm.submission.multiple_sessions === 0}" flex="33">
                        {{ 'NO_SESSIONS' | translate }}
                    </div>
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.multiple_sessions = 1" ng-class="{'selected': vm.submission.multiple_sessions && vm.submission.multiple_sessions !== 0}" flex="33">
                        {{ 'HAS_SESSIONS' | translate }}
                    </div>

                    <md-input-container md-no-float ng-if="vm.submission.multiple_sessions && vm.submission.multiple_sessions !== 0" flex="33">
                        <label>{{ 'AMOUNT' | translate }}</label>
                        <input type="number" ng-model="vm.submission.multiple_sessions">
                    </md-input-container>
                </div>
                <p ng-if="vm.submission.multiple_sessions && vm.submission.multiple_sessions !== 0">
                    Staat er een limiet op het aantal personen dat aan deze activiteit kan deelnemen? Hoeveel zouden dat er dan zijn?
                </p>
                <div layout="row" layout-padding ng-if="vm.submission.multiple_sessions && vm.submission.multiple_sessions !== 0">
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.session_participant_limit = 0" ng-class="{'selected': vm.submission.session_participant_limit === 0}" flex="33">
                        {{ 'NO_LIMIT' | translate }}
                    </div>
                    <div layout="column" layout-align="center center" class="fc-toggle" ng-click="vm.submission.session_participant_limit = 1" ng-class="{'selected': vm.submission.session_participant_limit && vm.submission.session_participant_limit !== 0}" flex="33">
                        {{ 'HAS_LIMIT' | translate }}
                    </div>

                    <md-input-container class="md-block" ng-if="vm.submission.session_participant_limit && vm.submission.session_participant_limit !== 0" flex="33">
                        <label>{{ 'AMOUNT' | translate }}</label>
                        <input type="number" ng-model="vm.submission.session_participant_limit">
                    </md-input-container>
                </div>
            </section>

            <section id="collaborators_section">
                <p>
                    Zijn er andere personen die mee deze activiteit organizeren?
                </p>
                <div layout="row" layout-padding>
                    <md-list flex>
                        <md-list-item layout="row" layout-align="start center" layout-padding flex>
                            <span class="md-body-2" flex>{{ 'NAME' | translate }}</span>
                            <span class="md-body-2" flex>{{ 'EMAIL' | translate }}</span>
                            <md-button class="md-icon-button md-primary" ng-click="vm.showNewCollaboratorDialog($event)">
                                <md-icon md-font-icon="lnr-plus-circle" class="lnr"></md-icon>
                            </md-button>
                        </md-list-item>
                        <md-list-item layout="row" layout-align="start center" layout-padding ng-repeat="collaborator in vm.submission.collaborators" ng-click="vm.editCollaborator($event, collaborator)" flex>
                            <span class="md-body-1" flex>{{ collaborator.name }}</span>
                            <span class="md-body-1" flex>{{ collaborator.email }}</span>
                            <md-button class="md-icon-button md-warn" ng-click="vm.removeCollaborator($event, collaborator)">
                                <md-icon md-font-icon="lnr-trash" class="lnr"></md-icon>
                            </md-button>
                        </md-list-item>
                    </md-list>
                </div>
            </section>

            <section id="activity_duration_section">
                <p>
                    Hoe lang duurt deze activiteit met al zijn sessies?
                </p>
                <div layout="row" layout-padding>
                    <md-slider-container flex>
                        <md-slider md-discrete flex ng-model="vm.activity_duration" min="15" max="240" step="15" aria-label="Activity Duration" class="md-primary">
                        </md-slider>
                        <md-input-container>
                            <input flex type="number" ng-model="vm.activity_duration" aria-label="blue" aria-controls="blue-slider">
                        </md-input-container>
                    </md-slider-container>
                </div>
            </section>

            <section id="visit_duration_section">
                <p>
                    Hoe lang duurt het voor een bezoeker om deel te nemen aan de activiteit?
                </p>
                <div layout="row" layout-padding>
                    <md-slider-container flex>
                        <md-slider md-discrete flex ng-model="vm.visit_duration" min="15" max="240" step="15" aria-label="Visit Duration" class="md-primary">
                        </md-slider>
                        <md-input-container>
                            <input flex type="number" ng-model="vm.visit_duration" aria-label="blue" aria-controls="blue-slider">
                        </md-input-container>
                    </md-slider-container>
                </div>
            </section>

        </form>
    </div>
    </md-content>

    <md-sidenav
            class="md-sidenav-right"
            md-component-id="right"
            md-is-locked-open="$mdMedia('gt-md')"
            md-whiteframe="4">
        <md-content flex>
            <md-list class="md-dense" flex>
                <md-list-item ng-repeat="comment in vm.comments.data" class="md-3-line" >
                    <md-icon md-font-icon="lnr-warning" class="lnr md-avatar"></md-icon>
                    <div class="md-list-item-text" layout="column">
                        <h4>{{comment.data.message}}</h4>
                        <span class="md-caption" am-time-ago="comment.data.timestamp | amParse"></span>
                        <div layout="column">
                            <div layout="row" ng-repeat="delta in comment.data.diff" layout-align="space-between center">
                                <span class="md-caption">{{ delta.path.join(', ') }}</span>
                                <span class="md-caption" ng-if="delta.kind == 'N'"> SET </span>
                                <span class="md-caption" ng-if="delta.kind == 'D'"> DEL </span>
                                <span class="md-caption" ng-if="delta.kind == 'E'"> SET </span>
                                <span class="md-caption" ng-if="delta.kind == 'A'"> ADD </span>
                                <span class="md-caption" flex>{{ delta.rhs | limitTo:100 }}</span>
                            </div>
                        </div>
                    </div>
                    <md-divider></md-divider>
                </md-list-item>
            </md-list>
        </md-content>
        <md-divider></md-divider>
        <div layout="row" layout-align="start stretch" layout-padding>
            <md-input-container flex>
                <label>{{ 'MESSAGE' | translate }}</label>
                <textarea ng-model="vm.comment" rows="3"></textarea>
            </md-input-container>
            <md-button>Send</md-button>
        </div>
    </md-sidenav>
</div>
